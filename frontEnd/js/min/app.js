var ngModule;ngModule=angular.module("todoApp",["ngResource"]),ngModule.service("myFuncs",["$rootScope",function(t){}]).controller("MainController",["$scope","$resource","myFuncs",function(t,e,a){t.tasks,t.read,t.create,t.deletes=[];var n,o,s;n=e("http://localhost:3000/crud_create"),o=e("http://localhost:3000/crud_read"),s=e("http://localhost:3000/crud_delete"),t.getData=function(){t.read=o.query(),t.read.$promise.then(function(e){t.tasks=e})},t.saveData=function(){t.task_new_title&&(t.create=n.save({task_new_title:t.task_new_title,task_new_body:t.task_new_body}),t.create.$promise.then(function(e){t.getData(),t.task_new_title="",t.task_new_body=""}))},t.deleteData=function(){var e=[];angular.forEach(t.deletes,function(t){e.push(t._id)}),s.save(e,function(){t.getData()})},t.update_deltasks=function(){t.deletes=[],angular.forEach(t.tasks,function(e){e.checked&&t.deletes.push(e)})},t.getData()}]).controller("EditController",["$scope","$resource","myFuncs",function(t,e,a){t.read_one,t.task_one,t.targetId=window.location.hash.slice(1);var n,o;n=e("http://localhost:3000/crud_read"),o=e("http://localhost:3000/crud_update"),t.getTheData=function(e){t.read_one=n.save(e),t.read_one.$promise.then(function(e){t.task_one=e.result[0],t.task_new_title=t.task_one.title,t.task_new_body=t.task_one.body})},t.updateData=function(){t.task_new_title&&(t.update=o.save({id:t.targetId,task_new_title:t.task_new_title,task_new_body:t.task_new_body}),t.update.$promise.then(function(e){t.task_new_title="",t.task_new_body=""}))},t.getTheData({id:t.targetId})}]);