<!DOCTYPE html>
<html lang="ja" ng-app="todoApp">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>TO DO あぷり</title>
        <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.min.css"  />
        <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css"  />
        <link rel="stylesheet" type="text/css" href="css/style.css"  />
        <script src="js/lib/angular.min.js"></script>
        <script src="js/lib/angular-resource.min.js"></script>
        <script src="js/lib/angular-sanitize.min.js"></script>
        <script src="js/lib/angular-route.min.js"></script>
        <script src="js/app.js"></script>
        <base href="/" />
    </head>

    <body ng-controller="MainController">

        <div class="container">
            <h1 class="title__page">TO DO あぷり</h1>
            <section class="section">
                <h1 class="title"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>タスク入力</h1>
                <div class="col-sm-12">
                    <div class="addTask">
                        <form novalidate name="saveForm" class="navbar-form navbar-left" role="search">
                          
                            <div class="form-group">
                           
                                <label for="task_new_title">タイトル</label>
                                <input ng-model="task_new_title" ng-required="true" ng-maxlength=20 ng-model-options="{updateOn: 'keyup keypress'}" type="text" value="" name="task_new_title" id="task_new_title" class="form-control addTask__ttl" placeholder="">
                                <p class="notice notice__required" ng-show="saveForm.task_new_title.$error.required">タイトルは必須入力です＼(^o^)／</p>
                                <p class="notice__maxlength" ng-show="saveForm.task_new_title.$error.maxlength">20文字以内で入力してね＼(^o^)／</p>

                                <label for="task_new_body">内容</label>
                                <textarea id="task_new_body" class="form-control addTask__body" ng-model="task_new_body" ng-maxlength=100 name="task_new_body" rows="3" cols=""></textarea>
                                
                            </div>
                          
                            <button ng-click="saveData()" type="submit" class="btn btn-primary btn-sm btn-block addTask__btn">追加する</button>

                        </form>                 
                    </div>
                </div>        
            </section>

            <section class="section">
                <h1 class="title"><span class="glyphicon glyphicon-list" aria-hidden="true"></span>タスク一覧</h1>
                <div class="col-sm-12">
                    <p class="noTask" ng-show="tasks.length == 0">タスクがありません＼(^o^)／</p>
                    <ul ng-show="tasks.length > 0" class="tasks__box">
                        <li class="tasks__box__list" ng-repeat="task in tasks | orderBy:'$index':true">
                            <form class="tasks__form">
                                <div class="checkbox tasks__box__checkBox">
                                    <input ng-model="task.checked" ng-change="update_deltasks()" ng-value="task._id" ng-attr-id="{{task._id}}" value="" name="task_added" type="checkbox">
                                </div>
                                <div class="tasks__box__txt">
                                    <label><a ng-bind="task.title" ng-attr-for="{{task._id}}" ng-href="/edit.html#{{task._id}}"></a></label>
                                </div>
                            </form>
                        </li>
                    </ul>
                    <button ng-click="deleteData()" type="submit" class="btn btn-primary btn-sm btn-block tasks__box__btnClose" aria-label="Close">
                        <span aria-hidden="true">削除する</span>
                    </button>
                </div>
            </section>

            <section class="section">
                <h1 class="title"><span class="glyphicon glyphicon-stats" aria-hidden="true"></span>ステータス</h1>
                <p class="taskNum">タスク数：<span ng-bind="tasks.length"></span></p>
            </section>

        </div>

    </body>
</html>